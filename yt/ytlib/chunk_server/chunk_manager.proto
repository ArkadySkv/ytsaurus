package NYT.NChunkServer.NProto;

//import "yt/ytlib/chunk_holder/chunk.proto";
import "yt/ytlib/chunk_server/chunk_service_rpc.proto";

////////////////////////////////////////////////////////////////////////////////

message TMsgRegisterHolder
{
    required bytes Address = 1;
    required THolderStatistics Statistics = 2;
}

message TMsgUnregisterHolder
{
    required int32 HolderId = 1;
}

message TMsgAllocateChunk
{
    required bytes TransactionId = 1;
}

message TMsgConfirmChunks
{
    required bytes TransactionId = 1;
    repeated TReqConfirmChunks.TChunkInfo Chunks = 2;
}

message TMsgHeartbeatRequest
{
    required int32 HolderId = 1;
    required THolderStatistics Statistics = 2;
    repeated TReqHolderHeartbeat.TChunkAddInfo AddedChunks = 3;
    repeated bytes RemovedChunks = 4;
}

message TMsgHeartbeatResponse
{
    required int32 HolderId = 1;
    repeated TRspHolderHeartbeat.TJobStartInfo StartedJobs = 2;
    repeated bytes StoppedJobs = 3;
}

////////////////////////////////////////////////////////////////////////////////

