package NYT.NTableClient.NProto;

////////////////////////////////////////////////////////////////////////////////

message TRange
{
    required bytes begin = 1;
    required bytes end = 2;
    required bool is_infinite = 3;
}

message TChannel 
{
    repeated bytes columns = 1;
    repeated TRange ranges = 2;
}

message TKeyPart
{
    required int32 type = 1;
    optional bytes str_value = 2;
    optional int64 int_value = 3;
    optional double double_value = 4;
}

message TKey
{
    repeated TKeyPart parts = 1;
}

message TSamplePart
{
    required bytes column = 1;
    required TKeyPart key_part = 2;
}

message TSample
{
    repeated TSamplePart parts = 1;
}

message TSamples
{
    repeated TSample items = 1;
}

message TIndexRow
{
    required TKey key = 1;
    required int64 row_index = 2;
}

message TIndex 
{
    repeated bytes key_columns = 1;
    repeated TIndexRow index_rows = 2;
}

message TBoundaryKeys
{
    required TKey first = 1;
    required TKey last = 2;
}

message TBlockInfo
{
    required int32 block_index = 1;
    required int32 row_count = 2;
}

message TChunkChannel
{
    required TChannel channel = 1;
    repeated TBlockInfo blocks = 2;
}

message TChannels
{
    repeated TChunkChannel items = 1;
}

////////////////////////////////////////////////////////////////////////////////

