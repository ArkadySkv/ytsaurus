package NYT.NTableClient.NProto;

import "yt/ytlib/table_client/table_chunk_meta.proto";
import "yt/ytlib/misc/guid.proto";
import "yt/ytlib/misc/protobuf_helpers.proto";

////////////////////////////////////////////////////////////////////////////////

// A read boundary given either by a row index, or a key, or both.
// The boundary is inclusive or exclusive depending of the context.
message TReadLimit
{
    optional int64 row_index = 1;
    optional TKey key = 2;
}

// Describes a portion of table chunk.
message TInputChunk
{
    required NYT.NProto.TGuid chunk_id = 1;

    // Lower boundary, inclusive.
    required TReadLimit start_limit = 2;

    // Upper boundary, exclusive.
    required TReadLimit end_limit = 3;

    // Initial seed addresses. The reader may ask the master for additional ones.
    repeated string node_addresses = 4;

    // Column filter.
    optional TChannel channel = 5;

    required NYT.NProto.TExtensionSet extensions = 6;

    // When this value is given the reader inserts "table_index" as a row attribute.
    optional int32 table_index = 7;

    optional int32 partition_tag = 8 [default = -1];
}

////////////////////////////////////////////////////////////////////////////////
