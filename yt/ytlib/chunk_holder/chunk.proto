package NYT.NChunkHolder.NProto;

import "yt/ytlib/misc/guid.proto";
import "yt/ytlib/misc/extensions.proto";

////////////////////////////////////////////////////////////////////////////////

message TBlockInfo
{
    required int64 offset = 1;
    required int32 size = 2;
    required uint64 checksum = 3;
}

message TBlocks
{
    repeated TBlockInfo blocks = 1;
}

message TInfo
{
    required int64 size = 1;
    required uint64 meta_checksum = 2;
}

message TMisc
{
    optional int64 uncompressed_size = 1 [default = 0];
    optional int64 row_count = 2 [default = 0];
    optional int32 codec_id = 3 [default = 0];
}

// TChunkMeta is stored in *.meta files on chunk holders
// and passed around with different extension subset among
// client, holder, master and scheduler.
message TChunkMeta
{
    required NYT.NProto.TGuid id = 1;
    required int32 type = 2;

    required NYT.NProto.TExtensionSet extensions = 3;
}

////////////////////////////////////////////////////////////////////////////////
